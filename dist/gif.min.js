parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"D2YK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loop=exports.conditional=exports.parse=void 0;var r=function r(e,o){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(Array.isArray(o))o.forEach(function(o){return r(e,o,t,n)});else if("function"==typeof o)o(e,t,n,r);else{var i=Object.keys(o)[0];Array.isArray(o[i])?(n[i]={},r(e,o[i],t,n[i])):n[i]=o[i](e,t,n,r)}return t};exports.parse=r;var e=function(r,e){return function(o,t,n,i){e(o,t,n)&&i(o,r,t,n)}};exports.conditional=e;var o=function(r,e){return function(o,t,n,i){for(var s=[];e(o,t,n);){var a={};i(o,r,t,a),s.push(a)}return s}};exports.loop=o;
},{}],"pjUj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.readBits=exports.readArray=exports.readUnsigned=exports.readString=exports.peekBytes=exports.readBytes=exports.peekByte=exports.readByte=exports.buildStream=void 0;var r=function(r){return{data:r,pos:0}};exports.buildStream=r;var e=function(){return function(r){return r.data[r.pos++]}};exports.readByte=e;var t=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){return e.data[e.pos+r]}};exports.peekByte=t;var n=function(r){return function(e){return e.data.subarray(e.pos,e.pos+=r)}};exports.readBytes=n;var o=function(r){return function(e){return e.data.subarray(e.pos,e.pos+r)}};exports.peekBytes=o;var a=function(r){return function(e){return Array.from(n(r)(e)).map(function(r){return String.fromCharCode(r)}).join("")}};exports.readString=a;var u=function(r){return function(e){var t=n(2)(e);return r?(t[1]<<8)+t[0]:(t[0]<<8)+t[1]}};exports.readUnsigned=u;var s=function(r,e){return function(t,o,a){for(var u="function"==typeof e?e(t,o,a):e,s=n(r),i=new Array(u),p=0;p<u;p++)i[p]=s(t);return i}};exports.readArray=s;var i=function(r,e,t){for(var n=0,o=0;o<t;o++)n+=r[e+o]&&Math.pow(2,t-o-1);return n},p=function(r){return function(t){for(var n=e()(t),o=new Array(8),a=0;a<8;a++)o[7-a]=!!(n&1<<a);return Object.keys(r).reduce(function(e,t){var n=r[t];return n.length?e[t]=i(o,n.index,n.length):e[t]=o[n.index],e},{})}};exports.readBits=p;
},{}],"IWdQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../"),t=require("../parsers/uint8"),r={blocks:function(e){for(var r=[],n=e.data.length,i=0,d=(0,t.readByte)()(e);0!==d;d=(0,t.readByte)()(e)){if(e.pos+d>=n){var a=n-e.pos;r.push((0,t.readBytes)(a)(e)),i+=a;break}r.push((0,t.readBytes)(d)(e)),i+=d}for(var o=new Uint8Array(i),s=0,c=0;c<r.length;c++)o.set(r[c],s),s+=r[c].length;return o}},n=(0,e.conditional)({gce:[{codes:(0,t.readBytes)(2)},{byteSize:(0,t.readByte)()},{extras:(0,t.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,t.readUnsigned)(!0)},{transparentColorIndex:(0,t.readByte)()},{terminator:(0,t.readByte)()}]},function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&249===r[1]}),i=(0,e.conditional)({image:[{code:(0,t.readByte)()},{descriptor:[{left:(0,t.readUnsigned)(!0)},{top:(0,t.readUnsigned)(!0)},{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{lct:(0,t.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,e.conditional)({lct:(0,t.readArray)(3,function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)})},function(e,t,r){return r.descriptor.lct.exists}),{data:[{minCodeSize:(0,t.readByte)()},r]}]},function(e){return 44===(0,t.peekByte)()(e)}),d=(0,e.conditional)({text:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{preData:function(e,r,n){return(0,t.readBytes)(n.text.blockSize)(e)}},r]},function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&1===r[1]}),a=(0,e.conditional)({application:[{codes:(0,t.readBytes)(2)},{blockSize:(0,t.readByte)()},{id:function(e,r,n){return(0,t.readString)(n.blockSize)(e)}},r]},function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&255===r[1]}),o=(0,e.conditional)({comment:[{codes:(0,t.readBytes)(2)},r]},function(e){var r=(0,t.peekBytes)(2)(e);return 33===r[0]&&254===r[1]}),s=[{header:[{signature:(0,t.readString)(3)},{version:(0,t.readString)(3)}]},{lsd:[{width:(0,t.readUnsigned)(!0)},{height:(0,t.readUnsigned)(!0)},{gct:(0,t.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,t.readByte)()},{pixelAspectRatio:(0,t.readByte)()}]},(0,e.conditional)({gct:(0,t.readArray)(3,function(e,t){return Math.pow(2,t.lsd.gct.size+1)})},function(e,t){return t.lsd.gct.exists}),{frames:(0,e.loop)([n,a,o,i,d],function(e){var r=(0,t.peekByte)()(e);return 33===r||44===r})}],c=s;exports.default=c;
},{"../":"D2YK","../parsers/uint8":"pjUj"}],"OYjY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deinterlace=void 0;var e=function(e,r){for(var t=new Array(e.length),n=e.length/r,o=function(n,o){var a=e.slice(o*r,(o+1)*r);t.splice.apply(t,[n*r,r].concat(a))},a=[0,4,2,1],c=[8,8,4,2],i=0,l=0;l<4;l++)for(var s=a[l];s<n;s+=c[l])o(s,i),i++;return t};exports.deinterlace=e;
},{}],"R7KX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lzw=void 0;var r=function(r,e,n){var o,i,t,f,a,u,c,s,w,y,l,p,v,A,d,x,b=n,z=new Array(n),_=new Array(4096),j=new Array(4096),k=new Array(4097);for(a=(i=1<<(y=r))+1,o=i+2,c=-1,t=(1<<(f=y+1))-1,s=0;s<i;s++)_[s]=0,j[s]=s;for(l=p=v=A=d=x=0,w=0;w<b;){if(0===A){if(p<f){l+=e[x]<<p,p+=8,x++;continue}if(s=l&t,l>>=f,p-=f,s>o||s==a)break;if(s==i){t=(1<<(f=y+1))-1,o=i+2,c=-1;continue}if(-1==c){k[A++]=j[s],c=s,v=s;continue}for(u=s,s==o&&(k[A++]=v,s=c);s>i;)k[A++]=j[s],s=_[s];v=255&j[s],k[A++]=v,o<4096&&(_[o]=c,j[o]=v,0==(++o&t)&&o<4096&&(f++,t+=o)),c=u}A--,z[d++]=k[A],w++}for(w=d;w<b;w++)z[w]=0;return z};exports.lzw=r;
},{}],"Z4YR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decompressFrames=exports.decompressFrame=exports.parseGIF=void 0;var e=i(require("js-binary-schema-parser/lib/schemas/gif")),r=require("js-binary-schema-parser"),t=require("js-binary-schema-parser/lib/parsers/uint8"),a=require("./deinterlace"),s=require("./lzw");function i(e){return e&&e.__esModule?e:{default:e}}var o=function(a){var s=new Uint8Array(a);return(0,r.parse)((0,t.buildStream)(s),e.default)};exports.parseGIF=o;var n=function(e){for(var r=e.pixels.length,t=new Uint8ClampedArray(4*r),a=0;a<r;a++){var s=4*a,i=e.pixels[a],o=e.colorTable[i]||[0,0,0];t[s]=o[0],t[s+1]=o[1],t[s+2]=o[2],t[s+3]=i!==e.transparentIndex?255:0}return t},c=function(e,r,t){if(e.image){var i=e.image,o=i.descriptor.width*i.descriptor.height,c=(0,s.lzw)(i.data.minCodeSize,i.data.blocks,o);i.descriptor.lct.interlaced&&(c=(0,a.deinterlace)(c,i.descriptor.width));var p={pixels:c,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return i.descriptor.lct&&i.descriptor.lct.exists?p.colorTable=i.lct:p.colorTable=r,e.gce&&(p.delay=10*(e.gce.delay||10),p.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(p.transparentIndex=e.gce.transparentColorIndex)),t&&(p.patch=n(p)),p}console.warn("gif frame does not have associated image.")};exports.decompressFrame=c;var p=function(e,r){return e.frames.filter(function(e){return e.image}).map(function(t){return c(t,e.gct,r)})};exports.decompressFrames=p;
},{"js-binary-schema-parser/lib/schemas/gif":"IWdQ","js-binary-schema-parser":"D2YK","js-binary-schema-parser/lib/parsers/uint8":"pjUj","./deinterlace":"OYjY","./lzw":"R7KX"}],"Wc0b":[function(require,module,exports) {
"use strict";var e=require("gifuct-js");window.parseGIF=e.parseGIF,window.decompressFrames=e.decompressFrames,window.fetchGif=function(r){return fetch(r).then(function(e){return e.arrayBuffer()}).then(function(r){return(0,e.parseGIF)(r)}).then(function(r){return(0,e.decompressFrames)(r,!0)})};
},{"gifuct-js":"Z4YR"}]},{},["Wc0b"], null)
//# sourceMappingURL=/gif.min.js.map